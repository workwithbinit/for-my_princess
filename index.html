<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Athena ‚ù§Ô∏è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
        --red:      #B5211B;
        --red-soft: #D4443C;
        --blush:    #F2D5CB;
        --font-d:   'Cormorant Garamond', serif;
        --font-b:   'Jost', sans-serif;
    }

    html, body {
        width: 100%; height: 100%;
        overflow: hidden;
        font-family: var(--font-b);
        font-weight: 300;
        -webkit-font-smoothing: antialiased;
        background: #FDEBD5;
    }

    /* ‚îÄ‚îÄ‚îÄ HEART LAYER ‚îÄ‚îÄ‚îÄ */
    #heart-layer {
        position: fixed; inset: 0;
        pointer-events: none; z-index: 3; overflow: hidden;
    }
    .heart {
        position: absolute; top: -40px;
        background-color: #FF8FAB;
    }
    .heart::before, .heart::after {
        content: ''; position: absolute;
        width: 100%; height: 100%;
        background-color: inherit; border-radius: 50%;
    }
    .heart::before { top: -50%; left: 0; }
    .heart::after  { top: 0; left: 50%; }
    .heart.s { width: 9px;  height: 9px; }
    .heart.m { width: 14px; height: 14px; }
    .heart.l { width: 20px; height: 20px; }
    .heart.c1 { background-color: #FF8FAB; }
    .heart.c2 { background-color: #F2C5BE; }
    .heart.c3 { background-color: #E05C56; }
    .heart.c4 { background-color: #FFB3C6; }

    /* ‚îÄ‚îÄ‚îÄ LOCK SCREEN ‚îÄ‚îÄ‚îÄ */
    #lock {
        position: fixed; inset: 0; z-index: 9000;
        display: flex; align-items: center; justify-content: center;
        background: #F8DDD8;
        transition: opacity 1.4s ease;
    }
    #lock.gone { opacity: 0; pointer-events: none; }
    .lock-card {
        background: rgba(255,255,255,0.72);
        backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
        border: 1px solid rgba(255,255,255,0.85); border-radius: 28px;
        padding: 44px 32px 36px; width: min(400px, 92vw);
        box-shadow: 0 24px 70px rgba(140,50,30,0.15); text-align: center;
    }
    .lock-card h2 {
        font-family: var(--font-d); font-style: italic; font-weight: 400;
        font-size: 1.65rem; color: var(--red); margin-bottom: 32px; line-height: 1.35;
    }
    .slider-group { margin-bottom: 20px; text-align: left; }
    .slider-label {
        display: flex; justify-content: space-between; align-items: center;
        font-size: 0.68rem; letter-spacing: 0.14em; text-transform: uppercase;
        color: #9C8880; font-weight: 500; margin-bottom: 9px;
    }
    .slider-value { color: var(--red); font-weight: 600; font-size: 1rem; }
    input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; cursor: pointer; }
    input[type=range]::-webkit-slider-runnable-track { height: 4px; background: var(--blush); border-radius: 10px; }
    input[type=range]::-webkit-slider-thumb { height: 22px; width: 22px; border-radius: 50%; background: var(--red); -webkit-appearance: none; margin-top: -9px; box-shadow: 0 2px 8px rgba(181,33,27,0.3); }
    input[type=range]::-moz-range-track { height: 4px; background: var(--blush); border-radius: 10px; }
    input[type=range]::-moz-range-thumb { height: 22px; width: 22px; border-radius: 50%; background: var(--red); border: none; box-shadow: 0 2px 8px rgba(181,33,27,0.3); }
    .lock-btn {
        background: var(--red); color: white; border: none; padding: 14px 0;
        border-radius: 50px; width: 100%; font-family: var(--font-b); font-weight: 400;
        letter-spacing: 0.12em; font-size: 0.82rem; text-transform: uppercase;
        margin-top: 10px; cursor: pointer; transition: background 0.2s, transform 0.12s;
    }
    .lock-btn:hover  { background: var(--red-soft); }
    .lock-btn:active { transform: scale(0.97); }
    #error-msg { color: var(--red); font-size: 0.78rem; margin-top: 12px; height: 16px; opacity: 0; transition: opacity 0.3s; }
    @keyframes shake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-8px)} 75%{transform:translateX(8px)} }

    /* ‚îÄ‚îÄ‚îÄ BLOOM ‚îÄ‚îÄ‚îÄ */
    #bloom-container {
        position: fixed; inset: 0; z-index: 8999;
        pointer-events: none; overflow: hidden;
        display: flex; justify-content: center; align-items: center;
        opacity: 0;
        transition: opacity 0.5s;
    }
    #bloom-container.active { opacity: 0.7; }
    .flower-bloom {
        position: absolute; width: 140px; height: 140px;
        background-size: contain; background-repeat: no-repeat; background-position: center;
        transform: scale(0); opacity: 0;
        transition: transform 3.2s cubic-bezier(0.17,0.67,0.83,0.67), opacity 1.4s;
        filter: drop-shadow(0 4px 12px rgba(0,0,0,0.12));
    }
    .flower-bloom.active { transform: scale(1.7) rotate(var(--rot)); opacity: 1; }

    /* ‚îÄ‚îÄ‚îÄ MINI TITLE BAR ‚îÄ‚îÄ‚îÄ */
    #mini-bar {
        position: fixed; top: 0; left: 0; right: 0; z-index: 500;
        height: 46px; display: flex; align-items: center; justify-content: center;
        background: rgba(253,248,242,0.88); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
        border-bottom: 1px solid rgba(242,213,203,0.45);
        opacity: 0; transform: translateY(-100%);
        transition: opacity 0.55s ease, transform 0.55s ease;
        pointer-events: none;
    }
    #mini-bar.vis { opacity: 1; transform: translateY(0); pointer-events: auto; }
    #mini-bar span { font-family: var(--font-d); font-style: italic; font-size: 1rem; color: var(--red); }

    /* ‚îÄ‚îÄ‚îÄ AUDIO ‚îÄ‚îÄ‚îÄ */
    #audio-control {
        position: fixed; bottom: 24px; right: 20px; z-index: 9999;
        width: 44px; height: 44px; border-radius: 50%;
        background: rgba(255,255,255,0.88); backdrop-filter: blur(10px);
        border: 1px solid var(--blush); display: none; align-items: center;
        justify-content: center; cursor: pointer;
        box-shadow: 0 4px 18px rgba(181,33,27,0.18); transition: transform 0.2s;
    }
    #audio-control.show { display: flex; }
    #audio-control:hover { transform: scale(1.1); }

    /* ‚îÄ‚îÄ‚îÄ JOURNEY BAR ‚îÄ‚îÄ‚îÄ */
    #journey-bar {
        position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
        z-index: 400; display: flex; align-items: center; gap: 10px;
        opacity: 0; transition: opacity 0.5s; pointer-events: none;
    }
    #journey-bar.vis { opacity: 1; }
    .jb-city { font-size: 0.58rem; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(255,255,255,0.55); white-space: nowrap; }
    .jb-city.dark-label { color: rgba(80,44,22,0.5); }
    .jb-track { width: 70px; height: 2px; background: rgba(255,255,255,0.22); border-radius: 2px; position: relative; }
    .jb-fill  { position: absolute; top: 0; left: 0; height: 100%; background: rgba(255,255,255,0.75); border-radius: 2px; transition: width 0.6s ease; }
    .dot-row  { display: flex; gap: 5px; align-items: center; }
    .dot { width: 5px; height: 5px; border-radius: 50%; background: rgba(255,255,255,0.28); transition: background 0.4s, transform 0.4s; }
    .dot.lit { background: rgba(255,255,255,0.9); transform: scale(1.35); }

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       STAGE & PANELS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    #stage { position: fixed; inset: 0; overflow: hidden; background: #1A2438; }

    .panel {
        position: absolute; inset: 0;
        width: 100%; height: 100%;
        transition: transform 0.55s cubic-bezier(0.25,0.46,0.45,0.94);
        will-change: transform;
        overflow: hidden;
    }
    .panel.state-below  { transform: translateY(100%); }
    .panel.state-active { transform: translateY(0); z-index: 10; }
    .panel.state-above  { transform: translateY(-100%); }

    .panel-bg { position: absolute; inset: 0; z-index: 0; }

    /* Panel content */
    .panel-content { 
        position: relative; z-index: 1; 
        width: 100%; height: 100%;
        display: flex; flex-direction: column;
        align-items: center; justify-content: center;
        text-align: center; padding: 60px 24px;
    }

    /* Panel backgrounds */
    #p-hero .panel-bg {
        background-image:
            linear-gradient(180deg, rgba(30,5,10,0.35) 0%, rgba(20,5,8,0.15) 40%, rgba(30,5,10,0.55) 100%),
            url('https://hanablogs.azurewebsites.net/Content/BlogUpload/202301300828415420.jpg');
        background-size: cover;
        background-position: center 60%;
        background-repeat: no-repeat;
    }

    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    #p-hero .hero-content { position: relative; z-index: 2; }
    .hero-city {
        font-size: 0.63rem; letter-spacing: 0.32em; text-transform: uppercase;
        color: rgba(255,220,225,0.85); margin-bottom: 16px;
        opacity: 0; animation: fadeUp 1s 0.4s forwards;
    }
    #p-hero h1 {
        font-family: var(--font-d); font-style: italic; font-weight: 300;
        font-size: clamp(3rem, 11vw, 6rem); color: #fff; line-height: 1.08; text-shadow: 0 2px 30px rgba(0,0,0,0.5), 0 0 60px rgba(200,40,60,0.4);
        opacity: 0; animation: fadeUp 1s 0.65s forwards;
    }
    .hero-sub {
        margin-top: 18px; font-size: 0.82rem; letter-spacing: 0.05em;
        color: rgba(255,220,225,0.75);
        opacity: 0; animation: fadeUp 1s 0.9s forwards;
    }
    .scroll-cue {
        position: absolute; bottom: 36px;
        display: flex; flex-direction: column; align-items: center; gap: 7px;
        opacity: 0; animation: fadeUp 1s 1.3s forwards;
    }
    .scroll-cue > span { font-size: 0.6rem; letter-spacing: 0.22em; text-transform: uppercase; color: rgba(255,220,225,0.55); }
    .scroll-line { width: 1px; height: 36px; background: linear-gradient(to bottom, #FFB0C0, transparent); animation: sline 2s 1.8s infinite; }
    @keyframes sline {
        0%   { transform: scaleY(0); transform-origin: top; }
        50%  { transform: scaleY(1); transform-origin: top; }
        50.1%{ transform-origin: bottom; }
        100% { transform: scaleY(0); transform-origin: bottom; }
    }

    /* ‚îÄ‚îÄ GYPSOPHILA PANEL - Big Bold Calligraphy ‚îÄ‚îÄ */
    .gypsophila-bg {
        position: absolute; inset: 0; z-index: 0;
        background-size: cover; background-position: center; background-repeat: no-repeat;
    }
    .gypsophila-overlay {
        position: absolute; inset: 0; z-index: 1;
        background: linear-gradient(180deg, rgba(255,250,245,0.75) 0%, rgba(253,240,222,0.8) 50%, rgba(250,230,210,0.85) 100%);
    }
    .gypsophila-content { z-index: 2; padding: 50px 20px; }
    .gypsophila-text {
        font-family: var(--font-d); font-style: italic; font-weight: 400;
        font-size: clamp(1.8rem, 7vw, 3.5rem);
        color: #8B2525;
        line-height: 1.6;
        text-shadow: 0 2px 20px rgba(139, 37, 37, 0.2);
        opacity: 0; transform: translateY(30px);
        animation: fadeUp 1.2s ease forwards 0.3s;
    }
    @media (min-width: 768px) {
        .gypsophila-text { font-size: clamp(2.5rem, 6vw, 4rem); line-height: 1.5; }
    }

    /* ‚îÄ‚îÄ CHAPTER LAYOUT - Full screen with translucent background ‚îÄ‚îÄ */
    .chapter-bg-image {
        position: absolute; inset: 0; z-index: 0;
        background-size: cover; background-position: center; background-repeat: no-repeat;
        filter: brightness(0.85) saturate(1.1);
    }
    .chapter-overlay {
        position: absolute; inset: 0; z-index: 1;
    }
    .chapter-overlay.light {
        background: linear-gradient(180deg, rgba(253,240,222,0.88) 0%, rgba(250,232,213,0.85) 50%, rgba(245,220,195,0.90) 100%);
    }
    .chapter-overlay.dark {
        background: linear-gradient(180deg, rgba(20,28,48,0.85) 0%, rgba(30,42,72,0.82) 50%, rgba(20,28,48,0.88) 100%);
    }
    .chapter-content-wrapper {
        position: absolute; inset: 0; z-index: 2;
        display: flex; flex-direction: column;
        padding: 55px 18px 20px;
        overflow-y: auto; -webkit-overflow-scrolling: touch;
    }
    @media (min-width: 768px) {
        .chapter-content-wrapper { padding: 70px 40px 30px; }
    }
    .ch-label {
        position: relative; display: inline-block; align-self: flex-start;
        background: rgba(255,255,255,0.75); backdrop-filter: blur(8px);
        padding: 4px 12px; border-radius: 16px;
        font-size: 0.55rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--red);
        margin-bottom: 16px;
    }
    @media (min-width: 768px) {
        .ch-label { padding: 5px 14px; border-radius: 20px; font-size: 0.6rem; letter-spacing: 0.18em; margin-bottom: 20px; }
    }
    .chapter-text-overlay { flex: 1; max-width: 100%; }
    .chapter-text-overlay.dark { color: rgba(240,220,208,0.95); }
    .ch-p {
        font-family: var(--font-d);
        font-size: clamp(0.9rem, 3vw, 1.15rem);
        line-height: 1.85; margin-bottom: 1em;
        color: rgba(60,30,15,0.85);
        opacity: 0; transform: translateY(16px);
        transition: opacity 0.7s ease, transform 0.7s ease;
    }
    @media (min-width: 768px) {
        .ch-p { font-size: clamp(1rem, 2vw, 1.2rem); line-height: 1.95; margin-bottom: 1.2em; }
    }
    .ch-p:nth-child(2) { transition-delay: 0.12s; }
    .ch-p:nth-child(3) { transition-delay: 0.24s; }
    .ch-p:nth-child(4) { transition-delay: 0.36s; }
    .panel.state-active .ch-p { opacity: 1; transform: translateY(0); }
    .chapter-text-overlay.dark .ch-p { color: rgba(240,220,208,0.92); }

    /* ‚îÄ‚îÄ SIGNATURE ‚îÄ‚îÄ */
    .sign-eye {
        font-size: 0.55rem; letter-spacing: 0.25em; text-transform: uppercase;
        color: rgba(200,150,140,0.55); margin-bottom: 20px;
        opacity: 0; transition: opacity 0.8s 0.1s;
    }
    @media (min-width: 768px) {
        .sign-eye { font-size: 0.62rem; letter-spacing: 0.3em; margin-bottom: 28px; }
    }
    .panel.state-active .sign-eye { opacity: 1; }
    .sign-main {
        font-family: var(--font-d); font-style: italic; font-weight: 300;
        font-size: clamp(1.1rem, 4vw, 2.2rem); color: rgba(255,210,200,0.95);
        line-height: 1.7;
        opacity: 0; transform: translateY(20px);
        transition: opacity 0.9s 0.25s, transform 0.9s 0.25s;
    }
    @media (min-width: 768px) {
        .sign-main { font-size: clamp(1.3rem, 4.5vw, 2.2rem); line-height: 1.75; }
    }
    .panel.state-active .sign-main { opacity: 1; transform: translateY(0); }
    .sign-loc {
        margin-top: 24px; font-size: 0.6rem; letter-spacing: 0.18em; text-transform: uppercase;
        color: rgba(192,64,64,0.65);
        opacity: 0; transition: opacity 0.8s 0.55s;
    }
    @media (min-width: 768px) {
        .sign-loc { margin-top: 34px; font-size: 0.67rem; letter-spacing: 0.22em; }
    }
    .panel.state-active .sign-loc { opacity: 1; }
    .sign-foot {
        margin-top: 8px; font-size: 0.55rem; letter-spacing: 0.05em;
        color: rgba(180,140,130,0.38);
        opacity: 0; transition: opacity 0.8s 0.72s;
    }
    @media (min-width: 768px) {
        .sign-foot { margin-top: 10px; font-size: 0.63rem; }
    }
    .panel.state-active .sign-foot { opacity: 1; }

    @keyframes fadeUp { from{opacity:0;transform:translateY(14px)} to{opacity:1;transform:translateY(0)} }

    /* ‚îÄ‚îÄ COUNTDOWN PANEL ‚îÄ‚îÄ */
    #p-countdown .panel-content {
        color: white; padding: 50px 16px;
    }
    #p-sign .panel-bg { background: radial-gradient(ellipse at 50% 85%, rgba(192,64,64,0.22) 0%, transparent 58%), linear-gradient(180deg,#1A2438 0%,#0E1620 100%); }
    #p-countdown .panel-bg { 
        background: radial-gradient(ellipse at 50% 30%, rgba(192,64,64,0.15) 0%, transparent 50%), 
                    radial-gradient(ellipse at 50% 70%, rgba(100,50,80,0.2) 0%, transparent 50%),
                    linear-gradient(180deg, #0E1620 0%, #1A2438 50%, #141C30 100%); 
    }
    .countdown-title {
        font-family: var(--font-d); font-style: italic; font-weight: 300;
        font-size: clamp(0.95rem, 4vw, 1.6rem);
        color: rgba(255,210,200,0.85); letter-spacing: 0.06em;
        margin-bottom: 30px;
        opacity: 0; transform: translateY(20px);
        transition: opacity 1s 0.2s, transform 1s 0.2s;
    }
    @media (min-width: 768px) {
        .countdown-title { font-size: clamp(1.1rem, 3.5vw, 1.6rem); letter-spacing: 0.08em; margin-bottom: 40px; }
    }
    #p-countdown.state-active .countdown-title { opacity: 1; transform: translateY(0); }
    .countdown-main {
        display: flex; align-items: center; justify-content: center; gap: 15px;
        opacity: 0; transform: translateY(30px);
        transition: opacity 1s 0.4s, transform 1s 0.4s;
    }
    @media (min-width: 768px) {
        .countdown-main { gap: 20px; }
    }
    #p-countdown.state-active .countdown-main { opacity: 1; transform: translateY(0); }
    .countdown-num-box {
        display: flex; flex-direction: column; align-items: center;
    }
    .countdown-big {
        font-family: var(--font-d); font-style: italic; font-weight: 300;
        font-size: clamp(3rem, 18vw, 8rem);
        color: rgba(255,200,190,0.95);
        line-height: 1;
        text-shadow: 0 0 60px rgba(192,64,64,0.5), 0 0 120px rgba(192,64,64,0.3);
    }
    .countdown-unit {
        font-family: var(--font-b); font-size: clamp(0.6rem, 2.5vw, 1rem);
        font-weight: 300; letter-spacing: 0.15em; text-transform: uppercase;
        color: rgba(200,150,140,0.7); margin-top: 6px;
    }
    @media (min-width: 768px) {
        .countdown-unit { font-size: clamp(0.7rem, 2vw, 1rem); letter-spacing: 0.2em; margin-top: 8px; }
    }
    .countdown-sep {
        font-family: var(--font-d); font-size: clamp(2rem, 12vw, 5rem);
        color: rgba(255,200,190,0.5); margin-bottom: 20px;
    }
    @media (min-width: 768px) {
        .countdown-sep { margin-bottom: 30px; }
    }
    .countdown-date {
        font-size: 0.65rem; letter-spacing: 0.12em; text-transform: uppercase;
        color: rgba(192,64,64,0.7); margin-top: 30px;
        opacity: 0; transition: opacity 1s 0.6s;
    }
    @media (min-width: 768px) {
        .countdown-date { font-size: 0.75rem; letter-spacing: 0.15em; margin-top: 40px; }
    }
    #p-countdown.state-active .countdown-date { opacity: 1; }
    .countdown-msg {
        font-family: var(--font-d); font-style: italic;
        font-size: clamp(0.85rem, 2.5vw, 1.1rem);
        color: rgba(200,150,140,0.6); margin-top: 16px; max-width: 90%;
        opacity: 0; transition: opacity 1s 0.8s;
    }
    @media (min-width: 768px) {
        .countdown-msg { font-size: clamp(0.9rem, 2.2vw, 1.1rem); margin-top: 20px; max-width: 400px; }
    }
    #p-countdown.state-active .countdown-msg { opacity: 1; }
    
    /* Bouquet Link */
    .bouquet-link {
        display: inline-block;
        margin-top: 24px;
        padding: 12px 28px;
        background: linear-gradient(135deg, rgba(255,200,190,0.9), rgba(255,180,170,0.9));
        border-radius: 30px;
        color: #8B2525;
        font-family: var(--font-d); font-style: italic;
        font-size: clamp(1rem, 3vw, 1.3rem); font-weight: 500;
        text-decoration: none;
        box-shadow: 0 4px 20px rgba(139, 37, 37, 0.3);
        opacity: 0; transform: translateY(20px);
        transition: opacity 1s 1.2s, transform 1s 1.2s, box-shadow 0.3s;
    }
    .bouquet-link.visible { opacity: 1; transform: translateY(0); }
    .bouquet-link:hover { box-shadow: 0 6px 30px rgba(139, 37, 37, 0.5); transform: translateY(-2px); }
    
    .countdown-heart {
        font-size: 2.5rem; margin-top: 20px;
        opacity: 0; animation: hb 1.4s infinite;
        filter: drop-shadow(0 0 20px rgba(255,100,100,0.5));
        transition: opacity 1s 1.4s;
    }
    @media (min-width: 768px) {
        .countdown-heart { font-size: 3rem; margin-top: 30px; }
    }
    #p-countdown.state-active .countdown-heart { opacity: 1; }
    </style>
</head>
<body>

<audio id="bg-music" loop preload="metadata">
    <source src="https://github.com/workwithbinit/for-my_princess/raw/refs/heads/main/Aandhii_-_K_Hunthyo_Hola_Hami_Sangai_Bhayeko_Bhaye_Official_Lyric_Video_256KBPS.mp3" type="audio/mpeg">
</audio>

<!-- HEARTS ‚Äî always visible -->
<div id="heart-layer"></div>

<!-- AUDIO -->
<div id="audio-control" onclick="toggleMusic()">
    <span id="music-icon" style="font-size:1.3rem">üéµ</span>
</div>

<!-- MINI TITLE BAR -->
<div id="mini-bar"><span>Happy Valentine's Day, Athuu ‚ù§Ô∏è</span></div>

<!-- JOURNEY BAR -->
<div id="journey-bar">
    <span class="jb-city" id="jb-left">Sydney</span>
    <div class="jb-track"><div class="jb-fill" id="jb-fill"></div></div>
    <span class="jb-city" id="jb-right">Gelsenkirchen</span>
    <div class="dot-row" id="dot-row"></div>
</div>

<!-- BLOOM -->
<div id="bloom-container"></div>

<!-- LOCK -->
<div id="lock">
    <div class="lock-card">
        <h2 id="prompt-text">Do you still remember<br>my birthday?</h2>
        <div class="slider-group">
            <div class="slider-label">Day <span class="slider-value" id="day-val">15</span></div>
            <input type="range" id="day-slider" min="1" max="31" value="15" oninput="updateValues()">
        </div>
        <div class="slider-group">
            <div class="slider-label">Month <span class="slider-value" id="month-val">06</span></div>
            <input type="range" id="month-slider" min="1" max="12" value="6" oninput="updateValues()">
        </div>
        <div class="slider-group">
            <div class="slider-label">Year <span class="slider-value" id="year-val">2003</span></div>
            <input type="range" id="year-slider" min="1995" max="2010" value="2003" oninput="updateValues()">
        </div>
        <button class="lock-btn" onclick="checkBirthday()">Open with love</button>
        <div id="error-msg">Not quite right, my love...</div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê STAGE ‚ïê‚ïê‚ïê -->
<div id="stage">

    <!-- 0: HERO -->
    <div class="panel state-below" id="p-hero">
        <div class="panel-bg"></div>
        <div class="panel-content">
            <p class="hero-city">‚úà Sydney, Australia ¬∑ 14,000 km away ‚úà</p>
            <h1>Happy Valentine's<br>Day, Athuu ‚ù§Ô∏è</h1>
            <p class="hero-sub">A letter from someone who loves you through his bones</p>
            <div class="scroll-cue">
                <span>Scroll</span>
                <div class="scroll-line"></div>
            </div>
        </div>
    </div>

    <!-- 1: GYPSOPHILA - Greeting with big bold calligraphy -->
    <div class="panel state-below" id="p-greeting">
        <div class="gypsophila-bg" style="background-image: url('https://github.com/workwithbinit/for-my_princess/blob/main/gypsophila.png?raw=true')"></div>
        <div class="gypsophila-overlay"></div>
        <div class="panel-content gypsophila-content">
            <p class="gypsophila-text">
                Dear love of my life,<br>
                my baby, my everything,<br>
                my sweet baby, my love,<br>
                my pukuli, my Athuu ‚ô°
            </p>
        </div>
    </div>

    <!-- 2: CHAPTER 1 -->
    <div class="panel state-below" id="p-ch1">
        <div class="chapter-bg-image" style="background-image: url('https://github.com/workwithbinit/for-my_princess/blob/main/letter.jpg?raw=true')"></div>
        <div class="chapter-overlay light"></div>
        <div class="chapter-content-wrapper">
            <span class="ch-label">The Letter</span>
            <div class="chapter-text-overlay">
                <p class="ch-p">I like writing thinking about you, and I'm so sorry for hyping it all up and telling you about the letter. I love you so much, baby.</p>
                <p class="ch-p">We have hit a milestone. I don't know how, but emotionally and mentally, we've grown together. You have been with me since day one‚Äîever since I became a conscious adult. I don't know how many times I've hurt you, but every time you've loved me more. I am more than grateful to have you in my life.</p>
                <p class="ch-p">You must be thinking I'm writing random things, but it's all how I'm feeling right now. I was thinking I didn't even put lipstick to make this letter special. All those days, I used to preach about how people communicated over letters when you'd be upset about me not being available. As you've adapted to my schedule and loved me so much, I wanted my love to take form as well.</p>
                <p class="ch-p">I even thought of sending you a big teddy bear that you could hug while sleeping‚Äîbut six of those would cost enough for me to fly to you with that money.</p>
            </div>
        </div>
    </div>

    <!-- 3: CHAPTER 2 -->
    <div class="panel state-below" id="p-ch2">
        <div class="chapter-bg-image" style="background-image: url('https://github.com/workwithbinit/for-my_princess/blob/main/me.jpg?raw=true')"></div>
        <div class="chapter-overlay light"></div>
        <div class="chapter-content-wrapper">
            <span class="ch-label">Thinking of You</span>
            <div class="chapter-text-overlay">
                <p class="ch-p">I'm in a phase of life where I'm questioning myself. All I did was feed my ego, and I don't know why‚Äîwhich is why I hurt you ruthlessly so many times. You have played a very important role in my life. You've been with me every day.</p>
                <p class="ch-p">Every time, in the back of my head, you're always present. I think of you every time I am out and when I am in. I am more than desperate at this point to meet you, see you, feel you, and heal you from every pain you relate with me‚Äîand instead fill you with a new pain: the pain of separation when we actually depart at the airport.</p>
                <p class="ch-p">Two weeks is not enough, baby, but it is long. And I might become someone I never knew I was because I've never felt this‚Äîloved this deeply, scared this much, and been this vulnerable in my whole life.</p>
            </div>
        </div>
    </div>

    <!-- 4: CHAPTER 3 -->
    <div class="panel state-below" id="p-ch3">
        <div class="chapter-bg-image" style="background-image: url('https://github.com/workwithbinit/for-my_princess/blob/main/us.png?raw=true')"></div>
        <div class="chapter-overlay dark"></div>
        <div class="chapter-content-wrapper">
            <span class="ch-label">Us</span>
            <div class="chapter-text-overlay dark">
                <p class="ch-p">It fascinates me that you love me for who I am instead of trying to shape me. I mean, you have shaped me in different ways‚Äîyou make me want to be better. I want to be better: better body, better mind, better health, and better spirit, so you can proudly say I'm yours.</p>
                <p class="ch-p">Forgive me for the flow, baby‚Äîthis is my first time writing a letter except for those in English exams when I was in grade school. Have we done so much, baby? I still feel like I haven't told you how much I love you and how much you mean to me. I didn't even think of what to write; I just gathered all the feelings I have for you and tried to express them in a way you'd understand. But I think nothing is as expressive as being able to touch you.</p>
            </div>
        </div>
    </div>

    <!-- 5: CHAPTER 4 -->
    <div class="panel state-below" id="p-ch4">
        <div class="chapter-bg-image" style="background-image: url('https://github.com/workwithbinit/for-my_princess/blob/main/wallet.jpg?raw=true')"></div>
        <div class="chapter-overlay dark"></div>
        <div class="chapter-content-wrapper">
            <span class="ch-label">Always With Me</span>
            <div class="chapter-text-overlay dark">
                <p class="ch-p">So baby, I just hope we meet soon‚Äîand next year, hopefully, I can be with you. I love you very much. I love your lips‚Äîyour yummy, juicy lips, delicious, and they are my favorite. Also your eyes and your natural lashes‚ÄîI love you and those.</p>
                <p class="ch-p">I don't know why you hide them all the time, but I feel weird when you act like I'm a stranger. I want to be part of your excellence, your features, and your insecurities as well. Nevertheless, you have no flaws at all.</p>
                <p class="ch-p">I like you through my bones so much that I could never imagine any future without you. I love you so much and a lot. Don't get upset when I don't reply sometimes‚Äîit might be because I'm working to create a surprise for you. I love you so much, baby, and I like you a lot too.</p>
                <p class="ch-p">Okay, now I feel silly. I think this is the end of the letter.<br>I love you, my pukuli.</p>
            </div>
        </div>
    </div>

    <!-- 6: SIGNATURE -->
    <div class="panel state-below" id="p-sign">
        <div class="panel-bg"></div>
        <div class="panel-content">
            <p class="sign-eye">üìç Gelsenkirchen, Germany</p>
            <p class="sign-main">
                With all my love,<br>
                Your wannabe husband,<br>
                Binit ‚ù§Ô∏è
            </p>
            <p class="sign-loc">Under the same sky ¬∑ Breathing the same air</p>
            <p class="sign-foot">Curated with Love ¬∑ 2025</p>
        </div>
    </div>

    <!-- 7: COUNTDOWN with Bouquet Link -->
    <div class="panel state-below" id="p-countdown">
        <div class="panel-bg"></div>
        <div class="panel-content">
            <p class="countdown-title">Until We Finally Hold Each Other</p>
            <div class="countdown-main">
                <div class="countdown-num-box">
                    <span class="countdown-big" id="countdown-months">--</span>
                    <span class="countdown-unit">months</span>
                </div>
                <div class="countdown-sep">:</div>
                <div class="countdown-num-box">
                    <span class="countdown-big" id="countdown-days">--</span>
                    <span class="countdown-unit">days</span>
                </div>
            </div>
            <p class="countdown-date">üóì October 2027 ¬∑ Sydney, Australia</p>
            <p class="countdown-msg">Two hearts, 14,000 km apart, counting every moment until they become one.</p>
            <a href="https://digibouquet.vercel.app/bouquet/2f184a8d-eda1-4cff-b870-8e5d6b8ea144" target="_blank" rel="noopener noreferrer" class="bouquet-link">üå∏ Here's a Digital Bouquet for you Pukuli üå∏</a>
            <p class="countdown-heart">‚ù§Ô∏è</p>
        </div>
    </div>

</div><!-- /stage -->

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PANEL ENGINE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const panels = Array.from(document.querySelectorAll('#stage .panel'));
const TOTAL  = panels.length;
let current  = 0;
let busy     = false;
let unlocked = false;

// Build dots
const dotRow = document.getElementById('dot-row');
panels.forEach((_,i) => {
    const d = document.createElement('div');
    d.className = 'dot';
    dotRow.appendChild(d);
});

function goTo(idx) {
    if (!unlocked || idx < 0 || idx >= TOTAL || idx === current || busy) return;
    busy = true;

    panels.forEach((p, i) => {
        p.classList.remove('state-below','state-active','state-above');
        p.style.zIndex = '';
        if      (i === idx)   { p.classList.add('state-active'); p.style.zIndex = '10'; }
        else if (i < idx)     p.classList.add('state-above');
        else                  p.classList.add('state-below');
    });

    current = idx;
    updateUI();
    setTimeout(() => { busy = false; }, 580);
}

function updateUI() {
    // Mini bar
    document.getElementById('mini-bar').classList.toggle('vis', current > 0);

    // Journey bar
    const jb = document.getElementById('journey-bar');
    jb.classList.toggle('vis', current > 0);
    document.getElementById('jb-fill').style.width = ((current / (TOTAL - 1)) * 100) + '%';

    // Dot lights
    document.querySelectorAll('#dot-row .dot').forEach((d, i) => {
        d.classList.toggle('lit', i === current);
    });

    // Label colours
    const dark = current >= 4;
    ['jb-left','jb-right'].forEach(id => {
        document.getElementById(id).classList.toggle('dark-label', !dark);
    });
    document.querySelectorAll('#dot-row .dot').forEach(d => {
        d.style.background = d.classList.contains('lit')
            ? (dark ? 'rgba(255,255,255,0.9)' : 'rgba(181,33,27,0.9)')
            : (dark ? 'rgba(255,255,255,0.25)' : 'rgba(181,33,27,0.22)');
    });
    
    // Bouquet link visibility
    const bouquetLink = document.querySelector('.bouquet-link');
    if (bouquetLink) {
        bouquetLink.classList.toggle('visible', current === TOTAL - 1);
    }
}

/* ‚îÄ‚îÄ Wheel ‚îÄ‚îÄ */
let wacc = 0, wtimer = null;
document.addEventListener('wheel', e => {
    if (!unlocked) return;
    e.preventDefault();
    clearTimeout(wtimer);
    wacc += e.deltaY;
    wtimer = setTimeout(() => {
        if      (wacc >  45) goTo(current + 1);
        else if (wacc < -45) goTo(current - 1);
        wacc = 0;
    }, 55);
}, { passive: false });

/* ‚îÄ‚îÄ Touch ‚îÄ‚îÄ */
let ty0 = 0, tx0 = 0;
document.addEventListener('touchstart', e => { ty0 = e.touches[0].clientY; tx0 = e.touches[0].clientX; }, { passive: true });
document.addEventListener('touchend',   e => {
    if (!unlocked) return;
    const dy = ty0 - e.changedTouches[0].clientY;
    const dx = tx0 - e.changedTouches[0].clientX;
    if (Math.abs(dy) > Math.abs(dx) && Math.abs(dy) > 38) goTo(dy > 0 ? current+1 : current-1);
}, { passive: true });

/* ‚îÄ‚îÄ Keyboard ‚îÄ‚îÄ */
document.addEventListener('keydown', e => {
    if (!unlocked) return;
    if (['ArrowDown','PageDown','Space'].includes(e.code)) { e.preventDefault(); goTo(current+1); }
    if (['ArrowUp','PageUp'].includes(e.code))              { e.preventDefault(); goTo(current-1); }
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LOCK
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function updateValues() {
    document.getElementById('day-val').innerText   = String(document.getElementById('day-slider').value).padStart(2,'0');
    document.getElementById('month-val').innerText = String(document.getElementById('month-slider').value).padStart(2,'0');
    document.getElementById('year-val').innerText  = document.getElementById('year-slider').value;
}
function randomizeSliders() {
    document.getElementById('day-slider').value   = Math.floor(Math.random()*31)+1;
    document.getElementById('month-slider').value = Math.floor(Math.random()*12)+1;
    document.getElementById('year-slider').value  = Math.floor(Math.random()*16)+1995;
    updateValues();
}
function checkBirthday() {
    const d = String(document.getElementById('day-slider').value).padStart(2,'0');
    const m = String(document.getElementById('month-slider').value).padStart(2,'0');
    const y = document.getElementById('year-slider').value;
    if (`${d}/${m}/${y}` === '25/06/2003') {
        document.getElementById('prompt-text').innerHTML = 'ofc you do hehe üòÅ‚ù§Ô∏è';
        document.getElementById('audio-control').classList.add('show');
        startMusic();
        setTimeout(() => {
            createBloomingFlowers();
            const lock = document.getElementById('lock');
            lock.classList.add('gone');
            setTimeout(() => {
                lock.style.display = 'none';
                unlocked = true;
                panels.forEach((p,i) => {
                    p.classList.remove('state-below','state-active','state-above');
                    p.style.zIndex = '';
                    if (i === 0) {
                        p.classList.add('state-active');
                        p.style.zIndex = '10';
                    } else {
                        p.classList.add('state-below');
                    }
                });
                current = 0;
                updateUI();
            }, 1400);
        }, 800);
    } else {
        const err = document.getElementById('error-msg');
        err.style.opacity = 1;
        const card = document.querySelector('.lock-card');
        card.style.animation = 'shake 0.4s linear';
        setTimeout(() => { card.style.animation = ''; err.style.opacity = 0; }, 500);
    }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MUSIC
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let musicPlaying = false, musicStarted = false;
const music = document.getElementById('bg-music');
function startMusic() {
    if (!musicStarted) { music.currentTime = 25; musicStarted = true; }
    music.play().then(() => {
        document.getElementById('music-icon').innerText = 'üîä';
        musicPlaying = true;
    }).catch(()=>{});
}
function toggleMusic() {
    if (musicPlaying) { music.pause(); document.getElementById('music-icon').innerText = 'üéµ'; musicPlaying = false; }
    else startMusic();
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BLOOM
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const flowerImgs = [
    'https://img.freepik.com/free-psd/red-rose-flower-isolated-transparent-background_191095-15637.png',
    'https://png.pngtree.com/png-clipart/20230508/original/pngtree-white-baby-breath-flowers-realistic-bouquet-png-image_9151512.png',
    'https://png.pngtree.com/png-clipart/20230113/original/pngtree-watercolor-red-rose-flower-isolated-png-image_8907865.png'
];
function createBloomingFlowers() {
    const cont = document.getElementById('bloom-container');
    cont.classList.add('active');
    for (let i = 0; i < 18; i++) {
        const f = document.createElement('div'); f.classList.add('flower-bloom');
        f.style.backgroundImage = `url('${flowerImgs[i%3]}')`;
        const angle = (i/18)*2*Math.PI + Math.random()*0.5;
        const r = window.innerWidth < 600 ? 110+Math.random()*70 : 230+Math.random()*140;
        f.style.left = `calc(50% + ${Math.cos(angle)*r}px - 70px)`;
        f.style.top  = `calc(50% + ${Math.sin(angle)*r}px - 70px)`;
        f.style.setProperty('--rot', `${Math.random()*360}deg`);
        f.style.transitionDelay = `${Math.random()*1.1}s`;
        cont.appendChild(f);
        setTimeout(() => f.classList.add('active'), 50);
    }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   COUNTDOWN TO OCTOBER 2027
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function updateCountdown() {
    const now    = new Date();
    const target = new Date(2027, 9, 1);
    const diffMs = target - now;
    
    let months = 0, remDays = 0;
    if (diffMs > 0) {
        const totalDays = Math.floor(diffMs / (1000*60*60*24));
        months = Math.floor(totalDays / 30.44);
        remDays = Math.round(totalDays - months * 30.44);
    }
    
    const monthsEl = document.getElementById('countdown-months');
    const daysEl = document.getElementById('countdown-days');
    if (monthsEl) monthsEl.innerText = months;
    if (daysEl) daysEl.innerText = remDays;
}
updateCountdown();
setInterval(updateCountdown, 60000);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   HEART RAIN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.onload = () => {
    randomizeSliders();
    music.load();

    const layer = document.getElementById('heart-layer');
    const ks = document.createElement('style');
    ks.innerHTML = `
        @keyframes hFall {
            0%   { transform: translateY(0) rotate(-45deg); opacity: 0; }
            6%   { opacity: 1; }
            88%  { opacity: 0.65; }
            100% { transform: translateY(108vh) rotate(var(--hs)); opacity: 0; }
        }`;
    document.head.appendChild(ks);

    const colors = ['c1','c2','c3','c4'];
    const sizes  = ['s','m','l'];
    for (let i = 0; i < 55; i++) {
        const h = document.createElement('div');
        h.classList.add('heart');
        h.classList.add(colors[Math.floor(Math.random()*4)]);
        h.classList.add(sizes[Math.floor(Math.random()*3)]);
        h.style.left = `${Math.random()*100}vw`;
        h.style.top  = '-36px';
        h.style.setProperty('--hs', `${-45 + (Math.random()-0.5)*360}deg`);
        const dur   = Math.random()*13 + 9;
        const delay = -(Math.random() * dur);
        h.style.animation      = `hFall ${dur}s ease-in infinite`;
        h.style.animationDelay = `${delay}s`;
        h.style.opacity        = String(Math.random()*0.45+0.15);
        layer.appendChild(h);
    }
};
</script>
</body>
</html>
